(()=>{"use strict";const e=function(){content.contentDocument.body.innerHTML="<style>".concat(sessionStorage.css_code,"</style> ").concat(sessionStorage.html_code||"");try{content.contentWindow.eval(sessionStorage.js_code)}catch(e){console.log(e)}};var t=document.getElementById("htmlCode").querySelector("textarea"),n=document.getElementById("cssCode").querySelector("textarea"),o=document.getElementById("jsCode").querySelector("textarea");const r=function(){sessionStorage.setItem("html_code",t.value),sessionStorage.setItem("css_code",n.value),sessionStorage.setItem("js_code",o.value)};function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var c=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"apply",value:function(){var t=document.getElementById("htmlCode").querySelector("textarea"),n=document.getElementById("cssCode").querySelector("textarea"),o=document.getElementById("jsCode").querySelector("textarea"),a=document.querySelector(".header__button"),c=(document.querySelector(".popup__input"),document.querySelector(".popup__btn"),document.querySelector(".overlay")),l=(document.querySelector(".popup__close"),document.getElementById("history"));null!==localStorage.getItem("history")&&JSON.parse(localStorage.getItem("history")).forEach((function(e,t){Object.keys(e)[0];var n=Object.keys(e)[1],o=document.createElement("option");o.value=t,o.innerHTML=n,l.appendChild(o)})),a.addEventListener("click",(function(){c.classList.add("overlay--active")})),l.addEventListener("change",(function(){if(null!==localStorage.getItem("history")&&"default"!==l.value){var a=JSON.parse(localStorage.getItem("history"))[l.value],c=a[Object.keys(a)[1]];t.value=c.html,n.value=c.css,o.value=c.js,r(),e()}}))}}],o&&a(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();const l=c;function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var s=function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,o;return n=t,o=[{key:"apply",value:function(){var t=document.getElementById("htmlCode").querySelector("textarea"),n=document.getElementById("cssCode").querySelector("textarea"),o=document.getElementById("jsCode").querySelector("textarea"),a=document.querySelector(".main__wrap__buttons__runBtn"),c=document.querySelector(".main__wrap__buttons__minimize");t.value=sessionStorage.getItem("html_code")||" ",n.value=sessionStorage.getItem("css_code")||" ",o.value=sessionStorage.getItem("js_code")||" ",e(),t.onkeyup=function(){return r()},n.onkeyup=function(){return r()},o.onkeyup=function(){return r()},a.addEventListener("click",(function(){e()})),c.addEventListener("click",(function(){var e=document.querySelector(".main__wrap");e.classList.toggle("main__wrap--minimize"),1===e.classList.length?c.innerHTML="minimize":c.innerHTML="maximize"}))}}],o&&i(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),t}();const u=s;function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"apply",value:function(){var e=document.querySelector(".popup__input"),t=document.querySelector(".popup__btn"),n=document.querySelector(".overlay"),o=document.querySelector(".popup__close"),r=document.getElementById("history");t.addEventListener("click",(function(){var t,o,a,c=e.value||"noName",l={html:sessionStorage.getItem("html_code"),css:sessionStorage.getItem("css_code"),js:sessionStorage.getItem("js_code")},i=(t={id:(new Date).valueOf()},a=l,(o="".concat(c))in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t);if(null===localStorage.getItem("history")){var s=[i];localStorage.setItem("history",JSON.stringify(s))}else{var u=JSON.parse(localStorage.getItem("history"));u.push(i),localStorage.setItem("history",JSON.stringify(u))}var d=document.createElement("option");d.value=r.children.length-1,d.innerHTML=c,r.appendChild(d),n.classList.remove("overlay--active"),e.value=""})),o.addEventListener("click",(function(){n.classList.remove("overlay--active")}))}}])&&d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var y=new u,p=new l,v=new m;p.apply(),y.apply(),v.apply()})();