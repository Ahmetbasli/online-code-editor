(()=>{"use strict";var e=document.querySelector(".main__frame");const t=function(){e.contentDocument.body.innerHTML="<style>".concat(sessionStorage.css_code,"</style> ").concat(sessionStorage.html_code||"");try{e.contentWindow.eval(sessionStorage.js_code)}catch(e){console.log(e)}};var n=document.getElementById("htmlCode").querySelector("textarea"),o=document.getElementById("cssCode").querySelector("textarea"),r=document.getElementById("jsCode").querySelector("textarea");const a=function(){sessionStorage.setItem("html_code",n.value),sessionStorage.setItem("css_code",o.value),sessionStorage.setItem("js_code",r.value)};function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o;return n=e,o=[{key:"apply",value:function(){var e=document.getElementById("htmlCode").querySelector("textarea"),n=document.getElementById("cssCode").querySelector("textarea"),o=document.getElementById("jsCode").querySelector("textarea"),r=document.querySelector(".header__button"),c=document.querySelector(".overlay"),l=document.getElementById("history");null!==localStorage.getItem("history")&&JSON.parse(localStorage.getItem("history")).forEach((function(e,t){Object.keys(e)[0];var n=Object.keys(e)[1],o=document.createElement("option");o.value=t,o.innerHTML=n,l.appendChild(o)})),r.addEventListener("click",(function(){c.classList.add("overlay--active")})),l.addEventListener("change",(function(){if(null!==localStorage.getItem("history")&&"default"!==l.value){var r=JSON.parse(localStorage.getItem("history"))[l.value],c=r[Object.keys(r)[1]];e.value=c.html,n.value=c.css,o.value=c.js,a(),t()}}))}}],o&&c(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();const i=l;function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,o;return n=e,o=[{key:"apply",value:function(){var e=document.getElementById("htmlCode").querySelector("textarea"),n=document.getElementById("cssCode").querySelector("textarea"),o=document.getElementById("jsCode").querySelector("textarea"),r=document.querySelector(".main__wrap__buttons__runBtn"),c=document.querySelector(".main__wrap__buttons__minimize");e.value=sessionStorage.getItem("html_code")||" ",n.value=sessionStorage.getItem("css_code")||" ",o.value=sessionStorage.getItem("js_code")||" ",t(),e.onkeyup=function(){return a()},n.onkeyup=function(){return a()},o.onkeyup=function(){return a()},r.addEventListener("click",(function(){t()})),c.addEventListener("click",(function(){var e=document.querySelector(".main__wrap");e.classList.toggle("main__wrap--minimize"),1===e.classList.length?c.innerHTML="minimize":c.innerHTML="maximize"})),document.addEventListener("keydown",(function(e){(e.ctrlKey||e.metaKey)&&"s"===e.key&&(e.preventDefault(),t())}))}}],o&&s(n.prototype,o),Object.defineProperty(n,"prototype",{writable:!1}),e}();const d=u;function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}const y=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"apply",value:function(){var e=document.querySelector(".popup__input"),t=document.querySelector(".popup__btn"),n=document.querySelector(".overlay"),o=document.querySelector(".popup__close"),r=document.getElementById("history");t.addEventListener("click",(function(){var t,o,a,c=e.value||"noName",l={html:sessionStorage.getItem("html_code"),css:sessionStorage.getItem("css_code"),js:sessionStorage.getItem("js_code")},i=(t={id:(new Date).valueOf()},a=l,(o="".concat(c))in t?Object.defineProperty(t,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[o]=a,t);if(null===localStorage.getItem("history")){var s=[i];localStorage.setItem("history",JSON.stringify(s))}else{var u=JSON.parse(localStorage.getItem("history"));u.push(i),localStorage.setItem("history",JSON.stringify(u))}var d=document.createElement("option");d.value=r.children.length-1,d.innerHTML=c,r.appendChild(d),n.classList.remove("overlay--active"),e.value=""})),o.addEventListener("click",(function(){n.classList.remove("overlay--active")}))}}])&&m(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var v=new d,p=new i,f=new y;p.apply(),v.apply(),f.apply()})();